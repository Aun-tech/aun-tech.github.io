<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AUN's Dino Game</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f0f0f0;
      text-align: center;
    }
    h1 {
      color: #333;
    }
    canvas {
      background: url('Background.png.png') no-repeat center center;
      background-size: cover;
      display: block;
      margin: 20px auto;
      border: 2px solid #333;
    }
    video {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 200px;
      height: 150px;
      border: 2px solid #666;
      z-index: 1000;
    }
  </style>
</head>
<body>

<h1>ðŸ¦– AUN's Dino Run</h1>
<canvas id="gameCanvas" width="800" height="400"></canvas>
<video id="userCamera" autoplay muted></video>

<script>
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');

  const dinoImg = new Image();
  dinoImg.src = 'Dinasour.png.png';  // Your custom file

  const cactusImg = new Image();
  cactusImg.src = 'Cactus.png.png';  // Your custom file

  let dino = { x: 50, y: 310, width: 40, height: 40, dy: 0, jumping: false };
  let cactus = { x: 800, y: 320, width: 30, height: 40 };
  let gravity = 1.5;
  let score = 0;

  function drawDino() {
    ctx.drawImage(dinoImg, dino.x, dino.y, dino.width, dino.height);
  }

  function drawCactus() {
    ctx.drawImage(cactusImg, cactus.x, cactus.y, cactus.width, cactus.height);
  }

  function updateGame() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawDino();
    drawCactus();

    cactus.x -= 6;
    if (cactus.x < -cactus.width) {
      cactus.x = 800;
      score++;
    }

    dino.y += dino.dy;
    if (dino.y < 310) {
      dino.dy += gravity;
    } else {
      dino.y = 310;
      dino.dy = 0;
      dino.jumping = false;
    }

    if (
      dino.x < cactus.x + cactus.width &&
      dino.x + dino.width > cactus.x &&
      dino.y < cactus.y + cactus.height &&
      dino.y + dino.height > cactus.y
    ) {
      alert('Game Over! Your Score: ' + score);
      document.location.reload();
    }

    ctx.fillStyle = "#000";
    ctx.font = "20px Arial";
    ctx.fillText("Score: " + score, 680, 30);

    requestAnimationFrame(updateGame);
  }

  document.addEventListener("keydown", function (e) {
    if (e.code === "Space" && !dino.jumping) {
      dino.dy = -20;
      dino.jumping = true;
    }
  });

  updateGame();

  // Camera access
  navigator.mediaDevices.getUserMedia({ video: true })
    .then(stream => {
      const video = document.getElementById('userCamera');
      video.srcObject = stream;
    })
    .catch(err => {
      console.error('Camera error:', err);
    });
</script>

</body>
</html>
